<style type="text/css" media="screen">

	@import "http://jquery-datatables-row-reordering.googlecode.com/svn/trunk/media/css/demo_table_jui.css";
	@import "http://jquery-datatables-row-reordering.googlecode.com/svn/trunk/media/css/themes/base/jquery-ui.css";
	
	.dataTables_info { padding-top: 0; }
	.dataTables_paginate { padding-top: 0; }
	.css_right { float: right; }
	tfoot th input { width: 90% }	
	#example_wrapper .fg-toolbar { font-size: 0.8em }
	#theme_links span { float: left; padding: 2px 10px; }
			
#table_id
{
	font-family: "Lucida Sans Unicode", "Lucida Grande", Sans-Serif;
	font-size: 12px;
	background: #fff;
	margin: 20px;
	border-collapse: collapse;
	text-align: left;

}
#table_id th
{
	font-size: 14px;
	font-weight: normal;
	color: #039;
	padding: 10px 8px;
	border-bottom: 2px solid #6678b1;
}
#table_id td
{
	border-bottom: 1px solid #ccc;
	color: #669;
	padding: 6px 8px;
}
#table_id tbody tr:hover td
{
	background: #d0dafd;
	color: #339;
}

tr.odd {
	background-color: #fff;
}

tr.even {
	background-color: #fff;
}

tr.odd td.sorting_1 {
	background-color: #fff;
}

tr.even td.sorting_1 {
	background-color: #fff;
}



#s4-searcharea
{
 display: none;
}

			
			
			
#NewItem {
	display: inline-block;
	float: right;
	padding: 6px;
}

#aNewItem, #aRefresh{
    display: inline-block;
    background: #5083b5;
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#c4eafe), color-stop(3%,#79acde), color-stop(3%,#79acde), color-stop(100%,#5083b5));
    background: -moz-linear-gradient(center top, #c4eafe 0%, #79acde 3%, #79acde 3%, #5083b5 100%);
    -webkit-box-shadow: 0px 1px 1px 0px #ffffff;
    -moz-box-shadow: 0px 1px 1px 0px #ffffff;
    box-shadow: 0px 1px 1px 0px #ffffff;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
    text-shadow: 0px 1px 0px #476e94;
    padding: 8px 29px;
    border-color: #4e85b8;
    border-width: 1px;
    border-style: solid;
    text-transform: capitalize;
    text-align: center;
    font-family: Arial, Helvetica, Sans-serif;
    font-size: 12px;
    color: #ffffff;
    font-weight: bold;
}
#aNewItem:hover, #aRefresh{
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#d6f0fe), color-stop(3%,#9ec2e6), color-stop(3%,#9ec2e6), color-stop(100%,#5083b5));
    background: -moz-linear-gradient(center top, #d6f0fe 0%, #9ec2e6 3%, #9ec2e6 3%, #5083b5 100%);
}
#aNewItem:active, #aRefresh{
    background: #79acde;
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#9dd1f7), color-stop(3%,#5083b5), color-stop(3%,#5083b5), color-stop(100%,#79acde));
    background: -moz-linear-gradient(center top, #9dd1f7 0%, #5083b5 3%, #5083b5 3%, #79acde 100%);
    text-shadow: 0px 0px 0px #476e94;
    padding: 9px 29px 7px 29px;
}


.dataTables_filter input[type="search"]::-webkit-search-cancel-button {
   /* Remove default */
    -webkit-appearance: none;   

    background: red;
    /* Will place small red box on the right of input (positioning carries over) */
}

.dataTables_filter input {
	color: rgb(51, 51, 51);
	padding: 0px 10px 0px 10px;	
}


.dataTables_length select {
	color: rgb(51, 51, 51);
}
			
#mapCanvas {
  width: 100%;
  height: 100%;
}

#headerPaneTitle {
  font-family: Arial, Helvetica, Sans-serif;
  font-size: 18px;
  color: #4e85b8;
  padding: 5px 0px 0px 5px;
  display: inline-block;
  display: -moz-inline-box;
  -moz-box-orient: vertical;
  vertical-align: bottom; 
}
 

#splitterContainer {/* Main splitter element */
height:600px;width:100%;margin:0;padding:0;
border: 2px solid #efefef;
}
#leftPane{
float:left;width:50%;height:100%;border-top:solid 1px #9cbdff;
background:#f4f4f4;
overflow: auto;

}
#rightPane{	/*Contains toolbar and horizontal splitter*/
float:right;width:50%;height:100%;
background:#FFFFFF;
}


/* Splitbar styles; these are the default class names and required styles */
.splitbarV {
float:left;width:6px;height:100%;
line-height:0px;font-size:0px;
border-left:solid 1px #9cbdff;border-right:solid 1px #9cbdff;
background:#cbe1fb url('http://intranet.afservice.org/os/kpi/Documents/panev.gif') 0% 50%;
}

.splitbuttonV{
margin-top:-41px;margin-left:-4px;top:50%;position:relative;
height:83px;width:10px;
background:transparent url('http://intranet.afservice.org/os/kpi/Documents/panevc.gif') 10px 50%;
}
.splitbuttonV.invert{
margin-left:0px;
background:transparent url('http://intranet.afservice.org/os/kpi/Documents/panevc.gif') 0px 50%;
}

</style>

			

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" ></script>
<script type="text/javascript" src="http://intranet.afservice.org/os/kpi/Documents/splitter.js"></script>

<!-- Link to the Templates plugin -->
<script src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.js" type="text/javascript"></script>
<script class="jsbin" src="http://datatables.net/download/build/jquery.dataTables.nightly.js"></script>
<script type="text/javascript">$('#s4-searcharea').hide();console.log(jQuery.fn.jquery);</script>

<!-- Link to jMapping plugin -->
<script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.5&sensor=false"></script>
<script type="text/javascript" src="http://vigetlabs.github.io/jmapping/examples/js/markermanager.js"></script>
<script type="text/javascript" src="http://vigetlabs.github.io/jmapping/examples/js/StyledMarker.js"></script>
<script type="text/javascript" src="http://vigetlabs.github.io/jmapping/examples/js/jquery.metadata.js"></script>
<script type="text/javascript" src="http://intranet.afservice.org/os/kpi/Documents/jquery.jmapping.js"></script>

<div id="splitterContainer" class="sContainer">
	
		<div id="leftPane">

			<div style="height: 45px; background: #bac8dc; padding-bottom: 0px; padding-top: 0px; padding-left: 5px; padding-right: 0px">
				<span id="headerPaneTitle">Employee List</span>
				<div id="NewItem">
					<a id="aNewItem" href="javascript:NewItem2(null, &#39;http://intranet.afservice.org/os/kpi/_layouts/listform.aspx?PageType=8&amp;ListId={987629F0-0E13-4F65-8CC4-E99BADCCC1E6}&amp;RootFolder=&#39;)">New Item</a>&nbsp;
					<a id="aRefresh" href="#">Refresh Map</a>&nbsp;					
				</div>
			</div>
		
			<div id="example_wrapper" class="dataTables_wrapper" role="grid">
				
							<!-- Template Container -->
							<table id="table_id">
								<thead>
									<tr>
										<th>&nbsp;</th>
										<th>Employee Name</th>			
										<th>Address</th>
										<th>Lat</th>
										<th>Lng</th>
									</tr>
								</thead>
								<tbody id="contactsContainer"></tbody>
							</table>	
				
			</div>
		
		</div>
		<div id="rightPane">
			<div id="mapCanvas" style="position: relative; background-color: rgb(229, 227, 223); overflow: hidden; -webkit-transform: translateZ(0); width: 100%; height: 100%;" ></div>
		</div>
			
</div>

<!-- Template -->
<script id="contactTemplate" type="text/x-jquery-tmpl">
	<tr>    
		<td>
			<div class="m-location" data-jmapping="{id: ${Id}, point: {lng: ${Longitude}, lat: ${Latitude}}, category: 'Food'}">
				<a href="#" class="map-item">${Id}</a>
				<div class="info-html" style="display: none;">
				  <p><br/><strong>${ Employee }</strong><br/>${Address}</p>
				</div>
			</div>				
		</td>	
        <td><strong><a target="_self" href="javascript:EditItem2(null, 'http://intranet.afservice.org/os/kpi/_layouts/listform.aspx?PageType=4&ListId={987629F0-0E13-4F65-8CC4-E99BADCCC1E6}&ID=${ Id }&ContentTypeID=${ ContentTypeID }')">${ Employee }</a></strong></td>
		<td>${Address}</td>
		<td>${Longitude}</td>
		<td>${Latitude}</td>		
    </tr>	
</script>


<script type="text/javascript">
	

	$("div.sContainer").bind( "resize.sContainer", function(e){
		var elem = $(this);
		console.log(' width: ' + elem.width() + ', height: ' + elem.height() );
	});	
	
	
	$(document).ready(function() {
		$("#splitterContainer").splitter({minAsize:100,minBsize:50,splitVertical:false,A:$('#leftPane'),B:$('#rightPane'),closeableto:100});
	
        // Get the list data.			
        $.getJSON(
            "../_vti_bin/ListData.svc/AddressList?$orderby=Employee", 
            function(data) {
                $('#contactTemplate')                  // Select the template. 
                    .tmpl(data.d.results)              // Bind it to the data. 
                    .appendTo('#contactsContainer');   // Render the output.
            }
		)
		.complete(function() { $('#table_id').dataTable({bJQueryUI: true, "sPaginationType": "full_numbers"}); $('#mapCanvas').jMapping({ side_bar_selector: '#table_id', location_selector: '.m-location', link_selector: 'a.map-item', info_window_selector: '.info-html' }); });
		
		$('#aRefresh').click(function() { $('#mapCanvas').jMapping({ side_bar_selector: '#table_id', location_selector: '.m-location', link_selector: 'a.map-item', info_window_selector: '.info-html' }); console.log('#aRefresh'); $('#mapCanvas').jMapping('update');});
		
	});
	
		
</script>